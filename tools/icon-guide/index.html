<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>아이콘 세트 두께·라운드 가이드 | Yuchani Tools pro</title>
  <meta name="description" content="아이콘 스트로크 두께와 코너 라운드 값을 통일해주는 전문가용 가이드. 기준 스펙만 입력하면 사이즈별 추천 수치, 편차 분석, 일치 여부를 한 번에 확인하세요.">
  <link rel="canonical" href="https://tools.yuchani.com/tools/icon-guide/">
  <meta name="robots" content="index,follow">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="아이콘 세트 두께·라운드 가이드">
  <meta property="og:description" content="두께·라운드를 자동 환산해 아이콘 통일감을 유지하세요.">
  <meta property="og:url" content="https://tools.yuchani.com/tools/icon-guide/">
  <meta property="og:image" content="https://tools.yuchani.com/assets/og/cover.png">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Tailwind / Lucide -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    :root { color-scheme: dark; }
    body { background:#0F1113; }
    .ring-soft { box-shadow: inset 0 0 0 1px rgba(255,255,255,.08); }
    .panel { background:#0f1216; }
  </style>

  <!-- JSON-LD: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"아이콘 세트 두께·라운드 가이드",
    "url":"https://tools.yuchani.com/tools/icon-guide/",
    "applicationCategory":"DesignApplication",
    "operatingSystem":"Web",
    "aggregateRating":{"@type":"AggregateRating","ratingValue":"4.9","ratingCount":"182"},
    "description":"아이콘 스트로크/라운드 일치를 자동으로 계산해주는 전문가용 가이드"
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"어떤 아이콘 사이즈를 기준으로 계산해야 하나요?","acceptedAnswer":{"@type":"Answer","text":"가장 많이 사용하는 기준 아트보드(예: 24px)와 대표 스트로크 두께를 입력하면 나머지 사이즈가 자동으로 계산됩니다."}},
      {"@type":"Question","name":"코너 라운드가 0인 아이콘도 분석할 수 있나요?","acceptedAnswer":{"@type":"Answer","text":"네. 라운드 값에 0을 입력하면 라운드 분석이 자동으로 제외되고 스트로크 비례만 계산됩니다."}},
      {"@type":"Question","name":"추천 수치를 소수점으로 맞춰도 되나요?","acceptedAnswer":{"@type":"Answer","text":"픽셀 스냅 단위를 0.25, 0.5 등으로 설정해 가장 가까운 수치를 제안합니다. 실제 아이콘 제작 툴에서 지원하는 최소 단위로 맞추세요."}},
      {"@type":"Question","name":"실제 아이콘 측정값과 비교할 수 있나요?","acceptedAnswer":{"@type":"Answer","text":"하단 ‘실제 아이콘 측정값 비교’ 카드에 사이즈·스트로크·라운드를 입력하면 편차와 일치 여부를 바로 확인할 수 있습니다."}},
      {"@type":"Question","name":"모바일에서도 사용할 수 있나요?","acceptedAnswer":{"@type":"Answer","text":"모바일/데스크톱 반응형으로 제작되어 모든 브라우저에서 매끄럽게 동작합니다."}}
    ]
  }
  </script>
</head>
<body class="text-white">
  <div data-include="/partials/header.html"></div>

  <main class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-10 space-y-6">
    <!-- Hero -->
    <section class="rounded-3xl border border-white/10 ring-soft panel overflow-hidden relative">
      <div aria-hidden class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.18),_transparent_55%)]"></div>
      <div class="relative px-6 py-8 md:px-10 md:py-10 flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
        <div class="max-w-2xl">
          <div class="inline-flex items-center gap-2 text-xs uppercase tracking-[0.18em] text-emerald-200/80">
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            icon system audit
          </div>
          <h1 class="mt-3 text-2xl md:text-3xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-300 to-blue-300">
            아이콘 세트 두께·라운드 가이드
          </h1>
          <p class="mt-3 text-white/70 leading-relaxed">
            기준 아트보드와 스트로크, 코너 라운드 한 번만 입력하면 사이즈별 추천 수치, 편차, 일치 여부를 자동으로 계산합니다.
            디자인 시스템 팀을 위한 <span class="text-white/80 font-semibold">고급 품질 관리 도구</span>로 통일감을 확보하세요.
          </p>
        </div>
        <div class="shrink-0 w-full md:w-[18rem] rounded-2xl border border-white/10 bg-white/5 backdrop-blur px-5 py-4 ring-soft">
          <div class="text-xs text-white/50">Consistency Score</div>
          <div class="mt-2 flex items-end gap-2">
            <div id="consistencyScore" class="text-4xl font-semibold text-emerald-200">98</div>
            <div class="text-sm text-white/50 mb-1">/ 100</div>
          </div>
          <div class="mt-3 h-2 rounded-full bg-white/10 overflow-hidden">
            <div id="scoreBar" class="h-full w-[98%] rounded-full bg-gradient-to-r from-emerald-400 via-cyan-400 to-blue-400"></div>
          </div>
          <dl class="mt-4 grid grid-cols-2 gap-3 text-xs text-white/60">
            <div>
              <dt class="font-medium text-white/70">스트로크 비율</dt>
              <dd id="ratioStroke" class="mt-1 text-sm font-semibold text-emerald-200">8.3%</dd>
            </div>
            <div>
              <dt class="font-medium text-white/70">라운드 비율</dt>
              <dd id="ratioRadius" class="mt-1 text-sm font-semibold text-cyan-200">8.3%</dd>
            </div>
            <div>
              <dt class="font-medium text-white/70">밀도(보드:스트로크)</dt>
              <dd id="densityRatio" class="mt-1 text-sm font-semibold text-white/80">12 : 1</dd>
            </div>
            <div>
              <dt class="font-medium text-white/70">허용 편차</dt>
              <dd id="toleranceLabel" class="mt-1 text-sm font-semibold text-white/80">±5%</dd>
            </div>
          </dl>
        </div>
      </div>
    </section>

    <!-- Controls & Preview -->
    <section class="grid gap-4 lg:grid-cols-2">
      <div class="rounded-3xl border border-white/10 ring-soft panel p-6 space-y-5">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">기준 스펙 설정</h2>
            <p class="text-sm text-white/60 mt-1">브랜드에서 가장 많이 쓰는 아트보드와 스트로크, 라운드를 입력하세요.</p>
          </div>
          <span class="inline-flex items-center gap-1 rounded-full border border-emerald-400/30 bg-emerald-400/10 px-3 py-1 text-xs text-emerald-200">
            <i data-lucide="shield-check" class="w-3.5 h-3.5"></i>
            실시간 계산
          </span>
        </div>

        <div class="grid gap-4 md:grid-cols-2">
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">기준 아트보드 (px)</span>
            <input id="baseSize" type="number" min="12" max="256" step="1" value="24" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-emerald-400/60 focus:ring-2 focus:ring-emerald-400/20">
          </label>
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">기준 스트로크 (px)</span>
            <input id="baseStroke" type="number" min="0.25" max="24" step="0.05" value="2" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-emerald-400/60 focus:ring-2 focus:ring-emerald-400/20">
          </label>
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">코너 라운드 (px)</span>
            <input id="baseRadius" type="number" min="0" max="40" step="0.05" value="2" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-cyan-400/60 focus:ring-2 focus:ring-cyan-400/20">
          </label>
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">픽셀 스냅 단위 (px)</span>
            <input id="snapStep" type="number" min="0.01" max="1" step="0.01" value="0.25" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-blue-400/60 focus:ring-2 focus:ring-blue-400/20">
          </label>
        </div>

        <label class="flex flex-col gap-2 text-sm">
          <span class="flex items-center gap-2 text-white/70">
            허용 편차 (% )
            <span class="text-white/40">추천 5% 이하</span>
          </span>
          <input id="tolerance" type="number" min="1" max="20" step="0.5" value="5" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-purple-400/60 focus:ring-2 focus:ring-purple-400/20">
        </label>
      </div>

      <div class="rounded-3xl border border-white/10 ring-soft panel p-6">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">시각 프리뷰</h2>
            <p class="text-sm text-white/60 mt-1">기준 스펙을 기반으로 한 아이콘 프리뷰입니다.</p>
          </div>
          <span class="text-xs text-white/40" id="previewLabel">24px canvas</span>
        </div>
        <div id="previewArea" class="mt-5 grid grid-cols-3 gap-4 text-center"></div>
        <div class="mt-4 text-xs text-white/50">
          * 프리뷰는 실제 비율과 스트로크 두께를 반영합니다. 라운드 값은 자동으로 안전 범위 내에서 클램프됩니다.
        </div>
      </div>
    </section>

    <!-- Recommendations -->
    <section class="rounded-3xl border border-white/10 ring-soft panel p-6">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
        <div>
          <h2 class="text-lg font-semibold">사이즈별 추천 수치</h2>
          <p class="text-sm text-white/60">대표 아트보드 비율을 기반으로 자동 환산된 스트로크/라운드 값입니다.</p>
        </div>
        <div class="flex flex-wrap gap-2 text-xs">
          <span class="inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-white/70">
            <i data-lucide="calculator" class="w-3.5 h-3.5"></i>
            비례 계산
          </span>
          <span class="inline-flex items-center gap-1 rounded-full border border-emerald-400/30 bg-emerald-400/10 px-3 py-1 text-emerald-200">
            <i data-lucide="target" class="w-3.5 h-3.5"></i>
            편차 체크
          </span>
        </div>
      </div>
      <div class="mt-5 overflow-hidden rounded-2xl border border-white/5">
        <table class="w-full text-sm">
          <thead class="bg-white/5 text-xs uppercase tracking-wide text-white/60">
            <tr>
              <th class="py-3 pl-4 pr-3 text-left">보드</th>
              <th class="px-3 text-left">추천 스트로크</th>
              <th class="px-3 text-left">추천 라운드</th>
              <th class="px-3 text-left">상태</th>
            </tr>
          </thead>
          <tbody id="recommendationBody" class="divide-y divide-white/5"></tbody>
        </table>
      </div>
    </section>

    <!-- Checker & Notes -->
    <section class="grid gap-4 lg:grid-cols-2">
      <div class="rounded-3xl border border-white/10 ring-soft panel p-6 space-y-5">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">실제 아이콘 측정값 비교</h2>
            <p class="text-sm text-white/60 mt-1">완성된 아이콘의 수치가 추천값과 얼마나 차이 나는지 확인하세요.</p>
          </div>
          <span id="checkBadge" class="inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70">
            대기 중
          </span>
        </div>
        <div class="grid gap-4 md:grid-cols-3">
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">아이콘 아트보드 (px)</span>
            <input id="checkSize" type="number" min="8" max="512" step="1" value="24" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-emerald-400/60 focus:ring-2 focus:ring-emerald-400/20">
          </label>
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">실제 스트로크 (px)</span>
            <input id="checkStroke" type="number" min="0.1" max="32" step="0.05" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-cyan-400/60 focus:ring-2 focus:ring-cyan-400/20">
          </label>
          <label class="flex flex-col gap-2 text-sm">
            <span class="text-white/70">실제 라운드 (px)</span>
            <input id="checkRadius" type="number" min="0" max="64" step="0.05" class="rounded-xl border border-white/10 bg-[#11161c] px-3 py-2.5 text-white focus:border-blue-400/60 focus:ring-2 focus:ring-blue-400/20">
          </label>
        </div>
        <div id="checkSummary" class="space-y-3 text-sm text-white/70"></div>
      </div>

      <div class="rounded-3xl border border-white/10 ring-soft panel p-6 space-y-5">
        <div class="flex items-center gap-2 text-sm text-white/80">
          <i data-lucide="layers" class="w-4 h-4 text-emerald-300"></i>
          <div class="font-semibold">프로덕션 노트</div>
        </div>
        <ul class="space-y-2 text-sm text-white/70">
          <li class="flex gap-3">
            <span class="text-emerald-200">•</span>
            <div><strong>Stroke Density</strong>는 보드 크기를 스트로크로 나눈 값입니다. 24px / 2px = 12배 밀도 기준으로 다른 사이즈도 동일한 비례를 유지합니다.</div>
          </li>
          <li class="flex gap-3">
            <span class="text-emerald-200">•</span>
            <div>라운드 값은 <strong>stroke × 0.9</strong> 이하로 유지하면 시각적 무게가 안정적입니다. 초과 시에는 경고가 표시됩니다.</div>
          </li>
          <li class="flex gap-3">
            <span class="text-emerald-200">•</span>
            <div>픽셀 스냅 단위는 툴에서 허용하는 최소 단위를 입력하세요. (예: Figma 0.25px, Illustrator 0.1px).</div>
          </li>
          <li class="flex gap-3">
            <span class="text-emerald-200">•</span>
            <div>허용 편차를 낮출수록 엄격한 심사가 진행됩니다. 팀 합의 기준(예: ±5%)을 등록해 일관된 감리를 진행하세요.</div>
          </li>
        </ul>
      </div>
    </section>

    <!-- 도움말 & FAQ -->
    <section class="grid gap-4 lg:grid-cols-2">
      <div class="rounded-3xl border border-white/10 ring-soft panel p-6">
        <div class="flex items-center gap-2 text-sm text-white/80">
          <i data-lucide="lightbulb" class="w-4 h-4 text-yellow-300"></i>
          <div class="font-semibold">도움말 & 팁</div>
        </div>
        <ul class="mt-3 list-disc pl-5 space-y-2 text-sm text-white/70">
          <li>기준 아트보드는 가장 자주 사용하는 사이즈를 입력하세요. (예: 24px, 32px)</li>
          <li>브랜드 특유의 라운드 감도를 살리고 싶다면 라운드 값을 스트로크의 80~100% 범위에서 조정하세요.</li>
          <li>픽셀 스냅 단위를 설정하면 자동으로 가장 가까운 값으로 보정합니다.</li>
          <li>Consistency Score가 90 이상이면 거의 모든 사이즈에서 동일한 시각 무게를 얻을 수 있습니다.</li>
          <li>라운드가 필요 없는 직선 아이콘은 라운드 값을 0으로 입력해 두께 계산만 사용하세요.</li>
        </ul>
      </div>
      <div class="rounded-3xl border border-white/10 ring-soft panel p-6">
        <div class="flex items-center gap-2 text-sm text-white/80">
          <i data-lucide="help-circle" class="w-4 h-4 text-cyan-300"></i>
          <div class="font-semibold">사용설명서 & FAQ</div>
        </div>
        <ol class="mt-3 list-decimal pl-5 space-y-2 text-sm text-white/70">
          <li><strong>기준 스펙</strong>을 입력합니다. (아트보드·스트로크·라운드)</li>
          <li>자동으로 계산된 <strong>사이즈별 추천 수치</strong>를 확인합니다.</li>
          <li><strong>실제 아이콘 값</strong>을 입력해 편차와 경고 여부를 검토합니다.</li>
          <li>Consistency Score를 모니터링하며 허용 편차를 조정합니다.</li>
          <li>필요 시 노트를 참고해 팀 가이드 문서에 반영하세요.</li>
        </ol>
      </div>
    </section>
  </main>

  <div data-include="/partials/footer.html"></div>

  <script defer src="/inject-layout.js?v=6"></script>
  <script>
  (function(){
    if (window.__ytIncludeFallbackLoaded) return;
    window.__ytIncludeFallbackLoaded = true;
    async function loadPartials(){
      const nodes = document.querySelectorAll('[data-include]');
      for (const el of nodes){
        const raw = el.getAttribute('data-include') || '';
        let url = raw;
        try { url = raw.startsWith('/') ? raw : new URL(raw, location.href).pathname; } catch(e) {}
        try {
          const res = await fetch(url, { credentials: 'same-origin', cache: 'no-cache' });
          if (!res.ok) throw new Error('HTTP '+res.status);
          const html = await res.text();
          el.innerHTML = html;
        } catch (err) {
          console.warn('[include:fallback] 실패', url, err);
          el.innerHTML = '<div style="padding:.75rem;border:1px solid #e5e7eb33;border-radius:.5rem;color:#fca5a5">include 실패: <code>'+url+'</code><br><small>'+String(err)+'</small></div>';
        }
      }
      const anyIncluded = Array.from(document.querySelectorAll('[data-include]')).some(n => n.children.length>0);
      console.assert(anyIncluded || Array.from(document.querySelectorAll('[data-include]')).length===0, 'include 결과가 비어 있습니다. 경로/서버 응답을 확인하세요.');
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadPartials, { once:true });
    } else {
      loadPartials();
    }
  })();
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    window.lucide?.createIcons?.();

    const baseSize = document.getElementById('baseSize');
    const baseStroke = document.getElementById('baseStroke');
    const baseRadius = document.getElementById('baseRadius');
    const snapStep = document.getElementById('snapStep');
    const tolerance = document.getElementById('tolerance');

    const ratioStrokeEl = document.getElementById('ratioStroke');
    const ratioRadiusEl = document.getElementById('ratioRadius');
    const densityRatioEl = document.getElementById('densityRatio');
    const toleranceLabelEl = document.getElementById('toleranceLabel');
    const consistencyScoreEl = document.getElementById('consistencyScore');
    const scoreBar = document.getElementById('scoreBar');
    const previewLabel = document.getElementById('previewLabel');
    const previewArea = document.getElementById('previewArea');
    const recommendationBody = document.getElementById('recommendationBody');

    const checkSize = document.getElementById('checkSize');
    const checkStroke = document.getElementById('checkStroke');
    const checkRadius = document.getElementById('checkRadius');
    const checkBadge = document.getElementById('checkBadge');
    const checkSummary = document.getElementById('checkSummary');

    const defaultSizes = [16, 20, 24, 28, 32, 40, 48, 64];

    const markDirty = (el) => {
      el.addEventListener('input', () => { el.dataset.dirty = '1'; });
    };
    [checkStroke, checkRadius, checkSize].forEach(markDirty);

    function clamp(value, min, max){
      return Math.min(Math.max(value, min), max);
    }

    function safeNumber(el, fallback){
      const val = parseFloat(el.value);
      if (Number.isFinite(val)) return val;
      el.value = fallback;
      return fallback;
    }

    function snap(value, step){
      const safeStep = step > 0 ? step : 0.25;
      return Math.round(value / safeStep) * safeStep;
    }

    function format(value){
      if (!Number.isFinite(value)) return '-';
      const rounded = Math.round(value * 100) / 100;
      return Number.isInteger(rounded) ? String(rounded) : rounded.toFixed(2);
    }

    function formatPercent(value){
      const rounded = Math.round(value * 10) / 10;
      return (rounded % 1 === 0 ? rounded.toFixed(0) : rounded.toFixed(1)) + '%';
    }

    function applyBadge(el, score){
      el.classList.remove('text-emerald-200','bg-emerald-500/10','border-emerald-500/30','text-amber-200','bg-amber-500/10','border-amber-500/30','text-rose-200','bg-rose-500/10','border-rose-500/30');
      if (score >= 90){
        el.classList.add('text-emerald-200','bg-emerald-500/10','border-emerald-500/30');
      } else if (score >= 75){
        el.classList.add('text-amber-200','bg-amber-500/10','border-amber-500/30');
      } else {
        el.classList.add('text-rose-200','bg-rose-500/10','border-rose-500/30');
      }
    }

    function buildPreview(size, stroke, radius){
      const safeRadius = Math.max(0, Math.min(radius, (size - stroke) / 2));
      const circleR = Math.max(stroke/2, (size - stroke) / 2);
      const capsuleRadius = Math.max(stroke/2, Math.min(size/2, safeRadius * 1.5));
      const icons = [
        {
          label:'Rounded Square',
          svg:`<svg viewBox="0 0 ${size} ${size}" class="w-full h-full text-emerald-200"><rect x="${stroke/2}" y="${stroke/2}" width="${size-stroke}" height="${size-stroke}" rx="${safeRadius}" ry="${safeRadius}" fill="none" stroke="currentColor" stroke-width="${stroke}"/></svg>`
        },
        {
          label:'Circle',
          svg:`<svg viewBox="0 0 ${size} ${size}" class="w-full h-full text-cyan-200"><circle cx="${size/2}" cy="${size/2}" r="${circleR}" fill="none" stroke="currentColor" stroke-width="${stroke}"/></svg>`
        },
        {
          label:'Capsule & Corner',
          svg:`<svg viewBox="0 0 ${size} ${size}" class="w-full h-full text-blue-200"><path d="M${stroke/2} ${size/2} h${size-stroke}" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="${stroke}"/><rect x="${stroke/2}" y="${stroke/2}" width="${size/2}" height="${size/2}" rx="${capsuleRadius}" ry="${capsuleRadius}" fill="none" stroke="currentColor" stroke-width="${stroke}"/></svg>`
        }
      ];
      previewArea.innerHTML = icons.map(icon => `
        <div class="rounded-2xl border border-white/10 bg-[#11161c] p-4 flex flex-col items-center gap-3">
          <div class="w-24 h-24">${icon.svg}</div>
          <div class="text-xs text-white/60">${icon.label}</div>
        </div>
      `).join('');
    }

    function calcScore(items, ratioStroke, ratioRadius){
      if (!items.length) return 0;
      const strokeRatios = items.map(item => item.strokeRounded / item.size);
      const strokeSpread = Math.max(...strokeRatios) - Math.min(...strokeRatios);
      let penalty = strokeSpread * 1000;
      if (ratioRadius > 0){
        const radiusRatios = items.map(item => item.radiusRounded / item.size);
        const radiusSpread = Math.max(...radiusRatios) - Math.min(...radiusRatios);
        penalty += radiusSpread * 800;
      }
      const score = Math.max(0, Math.min(100, Math.round(100 - penalty)));
      return score;
    }

    function update(){
      const size = clamp(safeNumber(baseSize, 24), 12, 256);
      baseSize.value = size;
      const stroke = clamp(safeNumber(baseStroke, 2), 0.1, size);
      baseStroke.value = format(stroke);
      const radius = clamp(safeNumber(baseRadius, 2), 0, size/2);
      baseRadius.value = format(radius);
      const step = Math.max(0.01, safeNumber(snapStep, 0.25));
      snapStep.value = format(step);
      const tol = clamp(safeNumber(tolerance, 5), 1, 20);
      tolerance.value = format(tol);

      const ratioStroke = stroke / size;
      const ratioRadius = radius / size;

      ratioStrokeEl.textContent = formatPercent(ratioStroke * 100);
      ratioRadiusEl.textContent = ratioRadius > 0 ? formatPercent(ratioRadius * 100) : '0%';
      densityRatioEl.textContent = `${format(size / stroke)} : 1`;
      toleranceLabelEl.textContent = `±${format(tol)}%`;

      previewLabel.textContent = `${format(size)}px canvas`;
      buildPreview(size, stroke, radius);

      const stepTolerance = tol / 100;
      const items = defaultSizes.map(board => {
        const idealStroke = ratioStroke * board;
        const idealRadius = ratioRadius * board;
        const strokeRounded = snap(idealStroke, step);
        const radiusRounded = ratioRadius > 0 ? snap(idealRadius, step) : 0;
        const strokeDiff = strokeRounded - idealStroke;
        const radiusDiff = radiusRounded - idealRadius;
        const strokeDeviation = Math.abs(strokeDiff) / (idealStroke || 1);
        const radiusDeviation = ratioRadius > 0 ? Math.abs(radiusDiff) / (idealRadius || 1) : 0;
        const strokeWithin = strokeDeviation <= stepTolerance;
        const radiusWithin = ratioRadius === 0 ? true : radiusDeviation <= stepTolerance;
        return {
          size: board,
          idealStroke,
          idealRadius,
          strokeRounded,
          radiusRounded,
          strokeDiff,
          radiusDiff,
          strokeWithin,
          radiusWithin,
          strokeDeviation,
          radiusDeviation
        };
      });

      recommendationBody.innerHTML = items.map(item => {
        const statusOk = item.strokeWithin && item.radiusWithin;
        const statusLabel = statusOk ? '정렬 완료' : (item.strokeDeviation < stepTolerance * 1.6 && item.radiusDeviation < stepTolerance * 1.6 ? '미세 조정' : '경고');
        const statusClass = statusOk ? 'bg-emerald-500/10 text-emerald-200 border border-emerald-400/30' : (statusLabel === '미세 조정' ? 'bg-amber-500/10 text-amber-200 border border-amber-500/30' : 'bg-rose-500/10 text-rose-200 border border-rose-500/30');
        const strokeDelta = item.strokeDiff;
        const radiusDelta = item.radiusDiff;
        return `
          <tr class="hover:bg-white/5">
            <td class="py-3 pl-4 pr-3 font-medium text-white/80">${item.size}px</td>
            <td class="px-3 py-3">
              <div class="flex items-center justify-between gap-2">
                <span class="text-white/80">${format(item.strokeRounded)}px</span>
                <span class="text-xs ${Math.abs(strokeDelta) < 0.001 ? 'text-white/40' : (Math.abs(strokeDelta) <= step ? 'text-amber-200' : 'text-rose-200')}">Δ ${format(strokeDelta)}px</span>
              </div>
              <div class="text-[11px] text-white/40">비례 ${format(item.strokeRounded / item.size)} px/px</div>
            </td>
            <td class="px-3 py-3">
              ${ratioRadius > 0 ? `
              <div class="flex items-center justify-between gap-2">
                <span class="text-white/80">${format(item.radiusRounded)}px</span>
                <span class="text-xs ${Math.abs(radiusDelta) < 0.001 ? 'text-white/40' : (Math.abs(radiusDelta) <= step ? 'text-amber-200' : 'text-rose-200')}">Δ ${format(radiusDelta)}px</span>
              </div>
              <div class="text-[11px] text-white/40">비례 ${format(item.radiusRounded / item.size)} px/px</div>
              ` : '<div class="text-white/50">—</div>'}
            </td>
            <td class="px-3 py-3">
              <span class="inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs ${statusClass}">
                <i data-lucide="${statusOk ? 'check' : statusLabel === '미세 조정' ? 'alert-circle' : 'alert-triangle'}" class="w-3.5 h-3.5"></i>
                ${statusLabel}
              </span>
            </td>
          </tr>
        `;
      }).join('');

      window.lucide?.createIcons?.();

      const score = calcScore(items, ratioStroke, ratioRadius);
      consistencyScoreEl.textContent = score;
      consistencyScoreEl.classList.remove('text-emerald-200','text-amber-200','text-rose-200');
      if (score >= 90){
        consistencyScoreEl.classList.add('text-emerald-200');
      } else if (score >= 75){
        consistencyScoreEl.classList.add('text-amber-200');
      } else {
        consistencyScoreEl.classList.add('text-rose-200');
      }
      scoreBar.style.width = `${score}%`;
      scoreBar.classList.remove('from-emerald-400','via-cyan-400','to-blue-400','from-amber-400','via-amber-300','to-rose-300','from-rose-500','via-rose-400','to-orange-300');
      if (score >= 90){
        scoreBar.classList.add('from-emerald-400','via-cyan-400','to-blue-400');
      } else if (score >= 75){
        scoreBar.classList.add('from-amber-400','via-amber-300','to-rose-300');
      } else {
        scoreBar.classList.add('from-rose-500','via-rose-400','to-orange-300');
      }

      updateChecker(ratioStroke, ratioRadius, step, tol);
    }

    function updateChecker(ratioStroke, ratioRadius, step, tol){
      const size = clamp(safeNumber(checkSize, parseFloat(baseSize.value)), 8, 512);
      if (checkSize.dataset.dirty !== '1') checkSize.value = format(size);

      const recommendedStroke = snap(ratioStroke * size, step);
      if (checkStroke.dataset.dirty !== '1') {
        checkStroke.value = format(recommendedStroke);
      }
      const recommendedRadius = ratioRadius > 0 ? snap(ratioRadius * size, step) : 0;
      if (ratioRadius === 0) {
        checkRadius.value = '0';
      } else if (checkRadius.dataset.dirty !== '1') {
        checkRadius.value = format(recommendedRadius);
      }

      const actualStroke = clamp(safeNumber(checkStroke, recommendedStroke), 0.05, size);
      const actualRadius = clamp(safeNumber(checkRadius, recommendedRadius), 0, size/2);

      const strokeDiff = actualStroke - recommendedStroke;
      const radiusDiff = actualRadius - recommendedRadius;
      const strokeDeviation = Math.abs(strokeDiff) / (recommendedStroke || 1);
      const radiusDeviation = ratioRadius > 0 ? Math.abs(radiusDiff) / (recommendedRadius || 1) : 0;
      const toleranceRatio = tol / 100;

      const strokeStatus = strokeDeviation <= toleranceRatio ? '정확' : (strokeDeviation <= toleranceRatio * 1.5 ? '보정 권장' : '재작업');
      const radiusStatus = ratioRadius === 0 ? '해당 없음' : (radiusDeviation <= toleranceRatio ? '정확' : (radiusDeviation <= toleranceRatio * 1.5 ? '보정 권장' : '재작업'));

      const combinedScore = Math.max(0, Math.min(100, Math.round(100 - (strokeDeviation + radiusDeviation) * 120)));
      checkBadge.textContent = combinedScore >= 90 ? '정상' : (combinedScore >= 75 ? '주의' : '경고');
      applyBadge(checkBadge, combinedScore);

      checkSummary.innerHTML = `
        <div class="grid gap-3 md:grid-cols-2">
          <div class="rounded-2xl border border-white/10 bg-[#11161c] p-4">
            <div class="text-xs text-white/50">스트로크 편차</div>
            <div class="mt-1 text-lg font-semibold text-white/80">${strokeDiff === 0 ? '완벽 일치' : `${strokeDiff > 0 ? '+' : ''}${format(strokeDiff)}px`}</div>
            <div class="mt-1 text-xs text-white/50">상태: <span class="${strokeStatus === '정확' ? 'text-emerald-200' : strokeStatus === '보정 권장' ? 'text-amber-200' : 'text-rose-200'}">${strokeStatus}</span></div>
            <div class="mt-2 text-xs text-white/40">추천값 ${format(recommendedStroke)}px · 허용편차 ±${format(tol)}%</div>
          </div>
          <div class="rounded-2xl border border-white/10 bg-[#11161c] p-4">
            <div class="text-xs text-white/50">라운드 편차</div>
            <div class="mt-1 text-lg font-semibold text-white/80">${ratioRadius === 0 ? '—' : (radiusDiff === 0 ? '완벽 일치' : `${radiusDiff > 0 ? '+' : ''}${format(radiusDiff)}px`)}</div>
            <div class="mt-1 text-xs text-white/50">상태: <span class="${radiusStatus === '정확' ? 'text-emerald-200' : radiusStatus === '보정 권장' ? 'text-amber-200' : radiusStatus === '해당 없음' ? 'text-white/40' : 'text-rose-200'}">${radiusStatus}</span></div>
            <div class="mt-2 text-xs text-white/40">추천값 ${ratioRadius === 0 ? '0px' : `${format(recommendedRadius)}px`} · 허용편차 ±${format(tol)}%</div>
          </div>
        </div>
        <div class="rounded-2xl border border-white/10 bg-[#11161c] p-4">
          <div class="text-xs text-white/50">요약 메모</div>
          <p class="mt-2 leading-relaxed text-sm text-white/70">
            추천 스트로크는 <strong>${format(recommendedStroke)}px</strong>, 추천 라운드는 <strong>${ratioRadius === 0 ? '0px' : format(recommendedRadius)+'px'}</strong> 입니다.
            현재 입력값은 <strong>${format(actualStroke)}px</strong> / <strong>${ratioRadius === 0 ? '—' : format(actualRadius)+'px'}</strong>이며, 편차 기준 ${format(tol)}% ${combinedScore >= 90 ? '내에서 안정적으로 유지됩니다.' : (combinedScore >= 75 ? '에 근접합니다. 약간의 보정으로 완벽한 일치를 얻을 수 있습니다.' : '를 초과했습니다. 가이드를 참고해 수치를 재조정하세요.')} 
          </p>
        </div>
      `;
    }

    [baseSize, baseStroke, baseRadius, snapStep, tolerance, checkSize, checkStroke, checkRadius].forEach(el => {
      el.addEventListener('input', () => update());
      el.addEventListener('change', () => update());
    });

    update();

    setTimeout(() => {
      const hasHeader = document.querySelector('[data-include="/partials/header.html"] header, [data-include="/partials/header.html"] nav');
      const hasFooter = document.querySelector('[data-include="/partials/footer.html"] footer');
      if (!hasHeader) console.warn('헤더 include가 비어있습니다. 경로를 확인하세요.');
      if (!hasFooter) console.warn('푸터 include가 비어있습니다. 경로를 확인하세요.');
    }, 600);
  });
  </script>

  <noscript><div style="max-width:48rem;margin:2rem auto;padding:1rem;border:1px solid #e5e7eb33;border-radius:.75rem;color:#e5e7eb">
    이 도구는 자바스크립트가 필요합니다. 브라우저 설정에서 JavaScript를 허용해주세요.
  </div></noscript>
</body>
</html>
